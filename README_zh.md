# ksha - æ™ºèƒ½ä¿¡æ¯æµå¤„ç†å¼•æ“

<div align="center">

[![NX](https://img.shields.io/badge/NX-22.1.1-blue.svg)](https://nx.dev)
[![NestJS](https://img.shields.io/badge/NestJS-11.1.9-red.svg)](https://nestjs.com)
[![Next.js](https://img.shields.io/badge/Next.js-16.1.1-black.svg)](https://nextjs.org)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)

**ä»å¤šä¸ªä¿¡æ¯æºèšåˆå†…å®¹ï¼Œä½¿ç”¨ LLM æ™ºèƒ½åˆ†æï¼Œä¸ªæ€§åŒ–é€šçŸ¥æ¨é€**

[English](./README.md) | ä¸­æ–‡

</div>

---

## ğŸ¯ ä»€ä¹ˆæ˜¯ kshaï¼Ÿ

**ksha** æ˜¯ä¸€ä¸ªæ™ºèƒ½ä¿¡æ¯æµå¤„ç†å¼•æ“ï¼Œå¸®åŠ©ä½ ä»æµ·é‡ä¿¡æ¯ä¸­å¿«é€Ÿå‘ç°æœ‰ä»·å€¼çš„ä¿¡å·ã€‚

### è§£å†³çš„ç—›ç‚¹

- ğŸ“¢ **ä¿¡æ¯å¤ªå¤š** - å…³é”®ä¿¡å·æ·¹æ²¡åœ¨å™ªéŸ³ä¸­
- â° **å‘ç°å¾—å¤ªæ™š** - ç­‰çœ‹åˆ°æ—¶æœºä¼šå·²è¿‡
- ğŸ“Š **ä¿¡æ¯å­¤ç«‹** - æ— æ³•çœ‹åˆ°äº‹ä»¶é—´çš„å…³è”
- ğŸ“Š **æœ‰æ•°æ®æ— æ´å¯Ÿ** - ä¸çŸ¥é“è¯¥æ€ä¹ˆè¡ŒåŠ¨

### ä½¿ç”¨åœºæ™¯

- ğŸ¦ **ç›‘æ§ç¤¾äº¤è´¦å·** - è¿½è¸ªè¡Œä¸šå¤§ä½¬åŠ¨æ€
- ğŸ“° **æ–°é—»èšåˆ** - è®¢é˜…å¤šä¸ªåšå®¢å’Œæ–°é—»æº
- ğŸ’¹ **å¸‚åœºæ•°æ®ç›‘æ§** - å®æ—¶è¿½è¸ªå¸‚åœºåŠ¨æ€
- ğŸ”— **Webhook é›†æˆ** - æ¥æ”¶ç¬¬ä¸‰æ–¹æœåŠ¡æ¨é€

---

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

### ğŸ“¡ å¤šæºæ•°æ®é‡‡é›†

| æ•°æ®æº | è¯´æ˜ |
|--------|------|
| **X (Twitter)** | ç›‘æ§ç‰¹å®šè´¦å·åŠ¨æ€ï¼Œä½¿ç”¨å®˜æ–¹ API |
| **RSS** | è®¢é˜…ä»»æ„ RSS/Atom æº |
| **Bluesky** | ç›‘æ§ Bluesky è´¦å·ï¼Œä½¿ç”¨ AT Protocol |
| **Mastodon** | ç›‘æ§ Mastodon/Fediverse è´¦å· |
| **Telegram** | ç›‘æ§å…¬å¼€é¢‘é“å’Œç¾¤ç»„ |
| **Discord** | ç›‘æ§ Discord æœåŠ¡å™¨é¢‘é“ |
| **Reddit** | ç›‘æ§ Subreddit |
| **GitHub** | ç›‘æ§ä»“åº“äº‹ä»¶å’Œ Release |
| **NewsNow** | æ¥å…¥ NewsNow çƒ­ç‚¹èšåˆ |
| **WebSocket** | å®æ—¶æ•°æ®æµæ¥å…¥ |
| **Webhook** | æ¥æ”¶å¤–éƒ¨æ¨é€ |

### ğŸ¤– LLM æ™ºèƒ½åˆ†æ

- **å¤šæ¨¡å‹æ”¯æŒ** - OpenAI / Anthropic / Google Gemini / SiliconFlow / è‡ªå®šä¹‰
- **è§¦å‘æ¡ä»¶** - ä½¿ç”¨ AI åˆ¤æ–­å†…å®¹æ˜¯å¦æ»¡è¶³æ¡ä»¶
- **å†…å®¹æå–** - æ™ºèƒ½æå–å’Œæ€»ç»“å…³é”®ä¿¡æ¯
- **è·³è¿‡ LLM** - æ”¯æŒç›´æ¥è½¬å‘åŸå§‹å†…å®¹

### ğŸ”” å¤šæ¸ é“é€šçŸ¥

- **Telegram** - å‘é€åˆ° Bot / é¢‘é“ / ç¾¤ç»„
- **Discord** - Webhook é€šçŸ¥
- **Slack** - Webhook é€šçŸ¥
- **Email** - SMTP é‚®ä»¶é€šçŸ¥
- **é€šç”¨ Webhook** - å¯å¯¹æ¥ä»»æ„ HTTP æœåŠ¡

> æ”¯æŒä¸ºæ¯ä¸ª Stream é…ç½®å¤šä¸ªé€šçŸ¥æ¸ é“ï¼Œå¯åˆ›å»ºå¤šä¸ªåŒç±»å‹æ¸ é“ï¼ˆå¦‚å¤šä¸ª Telegram Botï¼‰

### âš™ï¸ å¤„ç†å¼•æ“

- **Stream æµå¤„ç†** - é«˜æ€§èƒ½å®æ—¶å¤„ç†
- **é˜Ÿåˆ—ç³»ç»Ÿ** - BullMQ å¼‚æ­¥ä»»åŠ¡
- **å®šæ—¶æ‘˜è¦** - æ¯æ—¥/æ¯å‘¨æŠ¥å‘Š
- **å›æµ‹ç³»ç»Ÿ** - å†å²æ•°æ®åˆ†æ

### ğŸ›ï¸ Web ç®¡ç†ç•Œé¢

- **ä»ªè¡¨ç›˜** - æ•°æ®æ€»è§ˆå’Œç»Ÿè®¡
- **æ•°æ®æºç®¡ç†** - æ·»åŠ å’Œé…ç½®æ•°æ®æº
- **Stream ç®¡ç†** - åˆ›å»ºå’Œç®¡ç†å¤„ç†æµ
- **é€šçŸ¥æ¸ é“** - é…ç½®å¤šä¸ªé€šçŸ¥æ¸ é“
- **è®¾ç½®ä¸­å¿ƒ** - LLM / Twitter API ç­‰é…ç½®

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js 20+
- pnpm 8+
- PostgreSQL 16+
- Redis 7+

### å®‰è£…

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/your-org/ksha.git
cd ksha

# å®‰è£…ä¾èµ–
pnpm install

# é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶é…ç½®æ•°æ®åº“ç­‰

# å¯åŠ¨æ•°æ®åº“
docker compose up -d

# è¿è¡Œæ•°æ®åº“è¿ç§»
cd apps/api && npx prisma db push

# å¯åŠ¨æœåŠ¡
pnpm start:all
# æˆ–åˆ†åˆ«å¯åŠ¨:
# pnpm nx serve api  - API æœåŠ¡ (http://localhost:8002)
# pnpm nx serve web  - Web ç•Œé¢ (http://localhost:3000)
```

### Docker éƒ¨ç½²

```bash
# å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker compose up -d

# æœåŠ¡åœ°å€
# API: http://localhost:8002
# Web: http://localhost:3000
```

---

## ğŸ—ï¸ é¡¹ç›®æ¶æ„

```
ksha/
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ api/           # NestJS åç«¯ API
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ source/        # æ•°æ®æºç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ stream/        # æµå¤„ç†å¼•æ“
â”‚   â”‚   â”‚   â”œâ”€â”€ notification/  # é€šçŸ¥æœåŠ¡
â”‚   â”‚   â”‚   â”œâ”€â”€ llm/           # LLM é›†æˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ queue/         # é˜Ÿåˆ—æœåŠ¡
â”‚   â”‚   â”‚   â””â”€â”€ analytics/     # æ•°æ®åˆ†æ
â”‚   â”‚   â””â”€â”€ prisma/            # æ•°æ®åº“ Schema
â”‚   â””â”€â”€ web/           # Next.js å‰ç«¯
â”‚       â”œâ”€â”€ app/               # é¡µé¢è·¯ç”±
â”‚       â”œâ”€â”€ components/        # UI ç»„ä»¶
â”‚       â””â”€â”€ lib/               # å·¥å…·åº“
â”œâ”€â”€ docker-compose.yml # æœ¬åœ°å¼€å‘ç¯å¢ƒ
â””â”€â”€ package.json
```

### æŠ€æœ¯æ ˆ

- **åç«¯**: NestJS + Fastify + Prisma + BullMQ
- **å‰ç«¯**: Next.js + React + TailwindCSS
- **æ•°æ®åº“**: PostgreSQL + Redis
- **æ„å»º**: NX Monorepo

---

## âš™ï¸ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡

```bash
# æ•°æ®åº“
DATABASE_URL="postgresql://user:pass@localhost:5432/ksha"
REDIS_HOST="localhost"
REDIS_PORT="6379"

# LLM (åœ¨ Web ç•Œé¢ä¸­é…ç½®)
# - OpenAI API Key
# - Anthropic API Key
# - SiliconFlow API Key
# - æˆ–è‡ªå®šä¹‰ OpenAI å…¼å®¹æ¥å£

# Twitter API (å¯é€‰)
# - OAuth 2.0 Client ID/Secret
# - API Key/Secret

# é€šçŸ¥æ¸ é“ (åœ¨ Web ç•Œé¢ä¸­é…ç½®)
# - Telegram Bot Token + Chat ID
# - Discord Webhook URL
# - Slack Webhook URL
```

---

## ğŸ“– ä½¿ç”¨æµç¨‹

1. **æ·»åŠ æ•°æ®æº** - åœ¨ Sources é¡µé¢æ·»åŠ è¦ç›‘æ§çš„æ•°æ®æº
2. **åˆ›å»º Stream** - é…ç½®å¤„ç†è§„åˆ™å’Œ LLM å‚æ•°
3. **è®¾ç½®é€šçŸ¥** - æ·»åŠ é€šçŸ¥æ¸ é“å¹¶å…³è”åˆ° Stream
4. **å¯åŠ¨ç›‘æ§** - æ¿€æ´» Stream å¼€å§‹å¤„ç†

---

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ä»£ç ï¼è¯·æŸ¥çœ‹ [CONTRIBUTING.md](CONTRIBUTING.md)

```bash
# å¼€å‘
pnpm nx serve api
pnpm nx serve web

# æµ‹è¯•
pnpm nx test api

# æ„å»º
pnpm nx build api
pnpm nx build web
```

---

## ğŸ“„ è®¸å¯è¯

[MIT License](LICENSE)

---

## ğŸ™ è‡´è°¢

- [NestJS](https://nestjs.com) - åç«¯æ¡†æ¶
- [Next.js](https://nextjs.org) - å‰ç«¯æ¡†æ¶
- [NX](https://nx.dev) - Monorepo ç®¡ç†
- [Prisma](https://prisma.io) - æ•°æ®åº“ ORM
- [BullMQ](https://bullmq.io) - é˜Ÿåˆ—ç³»ç»Ÿ
